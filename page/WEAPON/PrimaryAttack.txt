<div class="function_line">
<span class="shared" title="Shared">&#160;</span>WEAPON:PrimaryAttack( <span class="function_args"></span> ) </div><div class="gmodwiki_useful_links"><a rel="nofollow" class="external text" href="https://github.com/Facepunch/garrysmod/search?utf8=âœ“&amp;q=WEAPON.PrimaryAttack">Search on GitHub</a> - <a href="/page/Special:WhatLinksHere/WEAPON/PrimaryAttack" title="Special:WhatLinksHere/WEAPON/PrimaryAttack">What links here?</a></div>
<h1> <span class="mw-headline" id="Description">Description</span></h1>
<p>Called when primary attack button ( +attack ) is pressed.
</p><p>Since this is a <a href="/page/Prediction" title="Prediction">predicted</a> hook, as mentioned on the bottom of the page, it has some additional behaviour to it. This is the same with all <a href="/page/Category_colon_Predicted_Hooks" title="Category:Predicted Hooks">predicted SWEP hooks</a>.
</p><p>When in singleplayer, this function is only called in the server realm. When in multiplayer, the hook will be called on both the server and the client in order to allow for <a href="/page/Prediction" title="Prediction">prediction</a>.
</p><p>You can force the hook to always be called on client like this:
</p>
<pre><code data-language="lua">
if ( game.SinglePlayer() ) then self:CallOnClient( &quot;PrimaryAttack&quot; ) end
</code></pre>
<p>Note that due to prediction, in multiplayer SWEP:PrimaryAttack is called multiple times per one "shot" with the gun. To work around that, use <a href="/page/Global/IsFirstTimePredicted" title="Global/IsFirstTimePredicted">IsFirstTimePredicted</a>.
</p>
<h1 class="first_example"> <span class="mw-headline" id="Examples">Examples</span></h1>
<h2 class="examples_number"> <span class="mw-headline" id="Example">Example</span></h2>
<p>This is how it is defined in weapon_base
</p>
<pre><code data-language="lua">function SWEP:PrimaryAttack()

	-- Make sure we can shoot first
	if (&#160;!self:CanPrimaryAttack() ) then return end

	-- Play shoot sound
	self.Weapon:EmitSound(&quot;Weapon_AR2.Single&quot;)
	
	-- Shoot 1 bullet, 150 damage, 0.01 aimcone
	self:ShootBullet( 150, 1, 0.01 )
	
	-- Remove 1 bullet from our clip
	self:TakePrimaryAmmo( 1 )
	
	-- Punch the player's view
	self.Owner:ViewPunch( Angle( -1, 0, 0 ) )

end</code></pre>
<p><br />
</p>


