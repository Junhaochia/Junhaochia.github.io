<div class="function_line">
<span class="shared" title="Shared">&#160;</span>Entity&#58;ResetSequence( <span class="function_args"></span> ) </div><div class="gmodwiki_useful_links"><a rel="nofollow" class="external text" href="https://github.com/Facepunch/garrysmod/search?utf8=âœ“&amp;q=Entity.ResetSequence">Search on GitHub</a> - <a href="/page/Special:WhatLinksHere/Entity/ResetSequence" title="Special:WhatLinksHere/Entity/ResetSequence">What links here?</a></div>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1"><a href="#Arguments"><span class="tocnumber">2</span> <span class="toctext">Arguments</span></a></li>
<li class="toclevel-1"><a href="#Examples"><span class="tocnumber">3</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Example"><span class="tocnumber">3.1</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Description">Description</span></h1>
<p>Plays an animation on the entity. This may not always work on engine entities.
</p>
<table cellspacing="0" class="gmodwiki_note warning_note">
<tr>
<td>WARNING
</td>
<td>
<p>This will not reset the animation on viewmodels, use <a href="/page/Category_colon_Entity" title="Category:Entity">Entity</a>:<a href="/page/Entity/SendViewModelMatchingSequence" title="Entity/SendViewModelMatchingSequence">SendViewModelMatchingSequence</a> instead.
</p>
</td></tr></table>
<table cellspacing="0" class="gmodwiki_note">
<tr>
<td>NOTE
</td>
<td>
<p>This will not work properly if called directly after calling <a href="/page/Category_colon_Entity" title="Category:Entity">Entity</a>:<a href="/page/Entity/SetModel" title="Entity/SetModel">SetModel</a>. Consider waiting until the next Tick.
</p><p>Will not work on players due to the animations being reset every frame by the base gamemode animation system. See <a href="/page/Category_colon_GM_Hooks" title="Category:GM Hooks">GM</a>:<a href="/page/GM/CalcMainActivity" title="GM/CalcMainActivity">CalcMainActivity</a>.
</p><p>For custom scripted entities you will want to apply example from <a href="/page/Category_colon_ENTITY_Hooks" title="Category:ENTITY Hooks">ENTITY</a>:<a href="/page/ENTITY/Think" title="ENTITY/Think">Think</a> to make animations work.
</p>
</td></tr></table>
<h1 class="first_arg"> <span class="mw-headline" id="Arguments">Arguments</span></h1>
<div class="argument">
<p><span class="arg_number"></span> <span class="arg_chunk"><a href="/page/Category_colon_number" title="Category:number">number</a> sequence</span>
</p>
<div style="margin-left: 32px;">
<p>The sequence to play. Also accepts strings.
</p>
<table cellspacing="0" class="gmodwiki_note">
<tr>
<td>NOTE
</td>
<td>
<p>If set to a string, the function will automatically call <a href="/page/Category_colon_Entity" title="Category:Entity">Entity</a>:<a href="/page/Entity/LookupSequence" title="Entity/LookupSequence">LookupSequence</a> to retrieve the sequence ID as a number.
</p>
</td></tr></table></div>
</div>
<h1 class="first_example"> <span class="mw-headline" id="Examples">Examples</span></h1>
<h2 class="examples_number"> <span class="mw-headline" id="Example">Example</span></h2>
<p>Minimal code needed to make sequences work as expected on custom "anim" type entities.
</p><p>In this example, when the player uses the crate, it will open, and when they use it again, it will close.
</p>
<pre><code data-language="lua">ENT.Base = &quot;base_anim&quot;
ENT.Spawnable = true
ENT.AutomaticFrameAdvance = true

ENT.PrintName = &quot;Animation Test&quot;
ENT.Category = &quot;My Entity Category&quot;

function ENT:Initialize()
	if ( SERVER ) then -- Only set this stuff on the server, it is networked to clients automatically
		self:SetModel( &quot;models/items/ammocrate_ar2.mdl&quot; ) -- Set the model
		self:PhysicsInit( SOLID_VPHYSICS ) -- Initialize physics
		self:SetUseType( SIMPLE_USE ) -- Make sure ENT:Use is ran only once per use ( per press of the use button on the entity, by default the E key )
	end
end

function ENT:Think()
	if ( SERVER ) then -- Only set this stuff on the server
		self:NextThink( CurTime() ) -- Set the next think for the serverside hook to be the next frame/tick
		return true -- Return true to let the game know we want to apply the self:NextThink() call
	end
end

if ( SERVER ) then -- This hook is only available on the server
	function ENT:Use( activator, caller ) -- If a player uses this entity, play an animation
		if (&#160;!self.Opened ) then -- If we are not &quot;opened&quot;
			self:ResetSequence( &quot;open&quot; ) -- Play the open sequence
			self.Opened = true -- We are now opened
		else
			self:ResetSequence( &quot;close&quot; ) -- Play the close sequence
			self.Opened = false -- We are now closed
		end
	end
end</code></pre>
<p><br />
</p>


