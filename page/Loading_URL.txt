<p>The convar <b>sv_loadingurl</b> allows a server owner to define a webpage to show to players when joining the server.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Setting_your_server.27s_loading_URL"><span class="tocnumber">1</span> <span class="toctext">Setting your server's loading URL</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Custom_loading_pages"><span class="tocnumber">2</span> <span class="toctext">Custom loading pages</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Javascript_functions"><span class="tocnumber">2.1</span> <span class="toctext">Javascript functions</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#PHP_GET_parameters"><span class="tocnumber">2.2</span> <span class="toctext">PHP GET parameters</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Examples"><span class="tocnumber">3</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Example"><span class="tocnumber">3.1</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Examples_2"><span class="tocnumber">4</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Example_2"><span class="tocnumber">4.1</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Gmod-LSM.com"><span class="tocnumber">4.2</span> <span class="toctext">Gmod-LSM.com</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Load_Seed"><span class="tocnumber">4.3</span> <span class="toctext">Load Seed</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Setting_your_server.27s_loading_URL"> Setting your server's loading URL </span></h2>
<p>If you are setting the convar through the console then make sure to put quotes around the URL. Also a + should be added to the front. Your command should look something like this:
</p>
<pre>+sv_loadingurl &quot;http://wiki.garrysmod.com/&quot;</pre>
<p>If you are placing this into your autoexec.cfg configuration file, be sure to remove the +, like so:
</p>
<pre>sv_loadingurl &quot;http://wiki.garrysmod.com/&quot;</pre>
<p>If you want, you may also use&#160;%s or&#160;%m in your URL (most likely in a GET variable) to pass the steam id, and map name respectively. For example:
</p>
<pre>sv_loadingurl &quot;http://wiki.garrysmod.com/?mapname=%m&amp;steamid=%s&quot;</pre>
<p>These can be later retrieved with simple PHP code.
</p>
<h2> <span class="mw-headline" id="Custom_loading_pages"> Custom loading pages </span></h2>
<p>This section will not detail creating your page, and assumes you have already designed one.
</p>
<h3> <span class="mw-headline" id="Javascript_functions"> Javascript functions </span></h3>
<p>There are several Javascript functions which are called directly by Garry's Mod. To use these, simply create a function with that name in your page - it will be called when the event associated with it happens.
</p>
<pre>/*
	Called at the start, when the loading screen finishes loading all assets.
	
	serverName- Server's name.
		Convar: hostname
		For exmaple: &quot;Garry's Mod Server&quot;
	serverURL- URL for the loading screen. 
		Convar: sv_loadingurl
		For example: &quot;http://mywebsite.com/myloadingscreen.html&quot;
	mapName- The name of the map the server is playing. 
		For example: &quot;cs_office&quot;
	maxPlayers- Maximum number of players for the server.
		Convar: maxplayers
	steamID- 64-bit, numeric Steam community ID of the client joining. 
		For example: 76561198012345678
	gamemode- The gamemode the server is currently playing. 
		Convar: gamemode
		For example: &quot;deathrun&quot;
*/
function GameDetails( servername, serverurl, mapname, maxplayers, steamid, gamemode ) {}</pre>
<pre>/*
	Called at the start

	total- Total number of files the client will have to download.
*/
function SetFilesTotal( total ) {}</pre>
<pre>/*
	Called when the client starts downloading a file.

	fileName- The full path and name of the file the client is downloading.
		This path represents the resource's location rather than the actual file's location on the server.
		For example, the file &quot;garrysmod/addons/myAddon/materials/models/bobsModels/car.mdl&quot; will be:
			&quot;materials/models/bobsModels/car.mdl&quot;
*/
function DownloadingFile( fileName ) {}</pre>
<pre>/*
	Called when the client's joining status changes.

	status- Current joining status.
		For example: &quot;Sending client info...&quot;
*/
function SetStatusChanged( status ) {}</pre>
<pre>/*
	Called when the number of files remaining for the client to download changes.

	needed- Number of files left for the client to download.
*/
function SetFilesNeeded( needed ) {}</pre>
<h3> <span class="mw-headline" id="PHP_GET_parameters"> PHP GET parameters </span></h3>
<p><b>%m</b> and <b>%s</b> will be replaced with the server's current map and the player's 64-bit steam community ID, respectively. This means you can grab them using PHP's $_GET superglobal.
</p><p>The map is a string, so you should have no trouble making use of that.
However, the steam community ID is not the classic "shorthand" steam ID often seen in-game. A method of conversion (using PHP's bcmath &amp; bcsub) is shown below.
</p>
<pre>
&lt;?php
$authserver = bcsub( $communityid, '76561197960265728' ) &amp; 1;
//Get the third number of the steamid
$authid = ( bcsub($communityid, '76561197960265728') - $authserver ) / 2;
//Concatenate the STEAM_ prefix and the first number, which is always 0, as well as colons with the other two numbers
$steamid = &quot;STEAM_0:$authserver:$authid&quot;;
?&gt;
</pre>
<h1 class="first_example"> <span class="mw-headline" id="Examples">Examples</span></h1>
<h2 class="examples_number"> <span class="mw-headline" id="Example">Example</span></h2>
<p>If you would like to use a local file as a loading screen, for example during gamemode creation as a default loading screen, you can use the asset:// prefix. The example uses the default loading screen, but any html file can be used.
</p>
<pre>sv_loadingurl &quot;asset://garrysmod/html/loading.html&quot;</pre>
<p><br />
</p>
<h1 class="first_example"> <span class="mw-headline" id="Examples_2">Examples</span></h1>
<h2 class="examples_number"> <span class="mw-headline" id="Example_2">Example</span></h2>
<div class="validatepage"><span>Validation required.</span><br />
This page contains possibly incorrect or incomplete information. Further testing is required.<br /><br />Example does not work.</div>
<p>If you would like to use a simple image as a loading screen, but don't have a webhost, you can use the following code as your <i>sv_loadingurl</i> value. Make sure to replace <i>URL-GOES-HERE</i> with the link to the image you would like to use. This makes use of <a rel="nofollow" class="external text" href="https://developer.mozilla.org/en-US/docs/data_URIs">Data URIs</a> for writing HTML for the URL.
</p>
<pre>data:text/html,&lt;style&gt;html,body{padding:0;margin:0;background:#000}&lt;/style&gt;&lt;img src=&quot;URL-GOES-HERE&quot; width=&quot;100%&quot; height=&quot;100%&quot;&gt;</pre>
<p><br />
</p>
<h2> <span class="mw-headline" id="Gmod-LSM.com"> Gmod-LSM.com </span></h2>
<p>A free, online and easy-to-use loading screen maker, without having to code anything or rent a web server.
<a rel="nofollow" class="external free" href="https://www.gmod-lsm.com">https://www.gmod-lsm.com</a>
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:302px;"><a href="/page/File:gmod-lsm-example1.jpeg" class="image"><img alt="gmod-lsm-example1.jpeg" src="/images/thumb/d/d8/gmod-lsm-example1.jpeg/300px-gmod-lsm-example1.jpeg" width="300" height="169" class="thumbimage" /></a> <div class="thumbcaption"><div class="magnify"><a href="/page/File:gmod-lsm-example1.jpeg" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div></div>
<p><br />
</p>
<h2> <span class="mw-headline" id="Load_Seed"> Load Seed </span></h2>
<p>An application skeleton for building a loading screen. You can use it to quickly get started building your design. Make sure to read the readme before getting started.
<a rel="nofollow" class="external free" href="https://github.com/glua/load-seed">https://github.com/glua/load-seed</a>
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:302px;"><a href="/page/File:load-seed-preview.jpg" class="image"><img alt="load-seed-preview.jpg" src="/images/thumb/e/e5/load-seed-preview.jpg/300px-load-seed-preview.jpg" width="300" height="225" class="thumbimage" /></a> <div class="thumbcaption"><div class="magnify"><a href="/page/File:load-seed-preview.jpg" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>


