<div class="function_line">
<span class="server" title="Server">&#160;</span>GM:PlayerUse( <span class="function_args"></span> ) </div><div class="gmodwiki_useful_links"><a rel="nofollow" class="external text" href="https://github.com/Facepunch/garrysmod/search?utf8=âœ“&amp;q=GM.PlayerUse">Search on GitHub</a> - <a href="/page/Special:WhatLinksHere/GM/PlayerUse" title="Special:WhatLinksHere/GM/PlayerUse">What links here?</a></div>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1"><a href="#Arguments"><span class="tocnumber">2</span> <span class="toctext">Arguments</span></a></li>
<li class="toclevel-1"><a href="#Arguments_2"><span class="tocnumber">3</span> <span class="toctext">Arguments</span></a></li>
<li class="toclevel-1"><a href="#Returns"><span class="tocnumber">4</span> <span class="toctext">Returns</span></a></li>
<li class="toclevel-1"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Example"><span class="tocnumber">5.1</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Examples_2"><span class="tocnumber">6</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Example_2"><span class="tocnumber">6.1</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Description">Description</span></h1>
<p>Triggered when the player presses use on an object. Continuously runs until USE is released but will not activate other Entities until the USE key is released; dependent on activation type of the Entity.
</p>
<h1 class="first_arg"> <span class="mw-headline" id="Arguments">Arguments</span></h1>
<div class="argument">
<p><span class="arg_number"></span> <span class="arg_chunk"><a href="/page/Category_colon_Player" title="Category:Player">Player</a> ply</span>
</p>
<div style="margin-left: 32px;">
The player pressing the "use" key.</div>
</div>
<h1 class="first_arg"> <span class="mw-headline" id="Arguments_2">Arguments</span></h1>
<div class="argument">
<p><span class="arg_number"></span> <span class="arg_chunk"><a href="/page/Category_colon_Entity" title="Category:Entity">Entity</a> ent</span>
</p>
<div style="margin-left: 32px;">
The entity which the player is looking at / activating USE on.</div>
</div>
<h1 class="first_ret"> <span class="mw-headline" id="Returns">Returns</span></h1>
<div class="return" style="counter-increment: returns;">
<p><span class="ret_number" style="counter-increment: returns -1;"></span> <span class="ret_chunk"><a href="/page/Category_colon_boolean" title="Category:boolean">boolean</a></span>
</p>
<div style="margin-left: 32px;">
<p>Return false if the player is not allowed to USE the entity.
</p>
Do not return true if using a hook, otherwise other mods may not get a chance to block a player's use.</div>
</div>
<h1 class="first_example"> <span class="mw-headline" id="Examples">Examples</span></h1>
<h2 class="examples_number"> <span class="mw-headline" id="Example">Example</span></h2>
<p>The arguments will continue to be output as long as the user holds their USE key. If the user activates one object, say a door, and looks at a different object, say a different door, then the print statement will reflect the new Entity, however even when true is returned the new Entity will not be activated until the user lets go of USE and depresses it once again; this is dependent on the USE TYPE of the Entity.
</p>
<pre><code data-language="lua">hook.Add( &quot;PlayerUse&quot;, &quot;some_unique_name2&quot;, function( ply, ent )
	print( ply, ent )
end )</code></pre>
<p><b>Output:</b>
</p>
<div style="margin:2em;">After holding it for a VERY brief moment looking at one door in a way that I would look at the other door once the first opens.
<pre><code data-language="lua">
Player [1][Example_User_Name] 	Entity [369][func_door_rotating]
Player [1][Example_User_Name] 	Entity [369][func_door_rotating]
Player [1][Example_User_Name] 	Entity [368][func_door_rotating]
Player [1][Example_User_Name] 	Entity [368][func_door_rotating]
</code></pre></div>
<h1 class="first_example"> <span class="mw-headline" id="Examples_2">Examples</span></h1>
<h2 class="examples_number"> <span class="mw-headline" id="Example_2">Example</span></h2>
<p>Prevent users from using the ammo cache on the back of a Jeep.
</p>
<pre><code data-language="lua">hook.Add( &quot;PlayerUse&quot;, &quot;some_unique_name&quot;, function( ply, ent )
	if (&#160;!IsValid( ent ) or&#160;!ent:IsVehicle() ) then return end
	
	if ( ply:GetEyeTrace().HitGroup == 5 ) then
		return false
	end
end )</code></pre>
<p><br />
</p>


