<div class="function_line">
<span class="shared" title="Shared">&#160;</span>GM:OnEntityCreated( <span class="function_args"></span> ) </div><div class="gmodwiki_useful_links"><a rel="nofollow" class="external text" href="https://github.com/Facepunch/garrysmod/search?utf8=âœ“&amp;q=GM.OnEntityCreated">Search on GitHub</a> - <a href="/page/Special:WhatLinksHere/GM/OnEntityCreated" title="Special:WhatLinksHere/GM/OnEntityCreated">What links here?</a></div>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1"><a href="#Arguments"><span class="tocnumber">2</span> <span class="toctext">Arguments</span></a></li>
<li class="toclevel-1"><a href="#Examples"><span class="tocnumber">3</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Example"><span class="tocnumber">3.1</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Examples_2"><span class="tocnumber">4</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2"><a href="#Example_2"><span class="tocnumber">4.1</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Description">Description</span></h1>
<p>Called when the entity is created.
</p>
<table cellspacing="0" class="gmodwiki_note">
<tr>
<td>NOTE
</td>
<td>
<p>Some entities on initial map spawn are passed through this hook, and then removed in the same frame. This is used by the engine to precache things like models and sounds, so always check their validity with <a href="/page/Global/IsValid" title="Global/IsValid">IsValid</a>.
</p>
</td></tr></table>
<table cellspacing="0" class="gmodwiki_note warning_note">
<tr>
<td>WARNING
</td>
<td>
<p>Removing the created entity during this event can lead to unexpected problems. Use <a href="/page/Category_colon_timer" title="Category:timer">timer</a>.<a href="/page/timer/Simple" title="timer/Simple">Simple</a>( 0, .... ) to safely remove the entity.
</p>
</td></tr></table>
<h1 class="first_arg"> <span class="mw-headline" id="Arguments">Arguments</span></h1>
<div class="argument">
<p><span class="arg_number"></span> <span class="arg_chunk"><a href="/page/Category_colon_Entity" title="Category:Entity">Entity</a> entity</span>
</p>
<div style="margin-left: 32px;">
The entity</div>
</div>
<h1 class="first_example"> <span class="mw-headline" id="Examples">Examples</span></h1>
<h2 class="examples_number"> <span class="mw-headline" id="Example">Example</span></h2>
<p>When a prop spawns it yells.
</p>
<pre><code data-language="lua">function GM:OnEntityCreated( ent )
	if ( ent:GetClass() == &quot;prop_physics&quot; ) then
		ent:EmitSound( &quot;vo/npc/male01/no02.wav&quot; )
	end
end</code></pre>
<p><br />
</p>
<h1 class="first_example"> <span class="mw-headline" id="Examples_2">Examples</span></h1>
<h2 class="examples_number"> <span class="mw-headline" id="Example_2">Example</span></h2>
<p>Adds all props and ragdolls into a list. More efficient alternative to looping over ents.GetAll().
</p>
<pre><code data-language="lua">local TrackedEnts =
{
	[ &quot;prop_physics&quot; ] = true,
	[ &quot;prop_ragdoll&quot; ] = true
}

local EntList = {}

hook.Add( &quot;OnEntityCreated&quot;, &quot;SoftEntList&quot;, function( ent )
	if ( not ent:IsValid() or not TrackedEnts[ ent:GetClass() ] ) then return end
	
	EntList[ ent:EntIndex() ] = ent
end )</code></pre>
<p><br />
</p>


